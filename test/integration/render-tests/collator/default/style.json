{
  "version": 8,
  "metadata": {
    "test": {
      "height": 512,
      "description": "We use a render test for the collator expression because it has an Android-specific implementation and we don't have an Android expression test suite. For other platforms, see the collator expression tests."
    }
  },
  "sources": {
    "mapbox": {
      "type": "geojson",
      "data": {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {
              "a": "a",
              "b": "Â",
              "operator": "==",
              "case-sensitive": false,
              "diacritic-sensitive": false
            },
            "geometry": {
              "type": "Point",
              "coordinates": [
                -1.0546875,
                30.14512718337613
              ]
            }
          },
          {
            "type": "Feature",
            "properties": {
                "a": "a",
                "b": "Â",
                "operator": "!=",
                "case-sensitive": false,
                "diacritic-sensitive": false
            },
            "geometry": {
              "type": "Point",
              "coordinates": [
                -5.625,
                71.85622888185527
              ]
            }
          },
          {
            "type": "Feature",
            "properties": {
                "a": "a",
                "b": "Â",
                "operator": "<=",
                "case-sensitive": true,
                "diacritic-sensitive": false
            },
            "geometry": {
              "type": "Point",
              "coordinates": [
                1.40625,
                -40.44694705960048
              ]
            }
          },
          {
            "type": "Feature",
            "properties": {
                "a": "a",
                "b": "ä",
                "operator": "<",
                "case-sensitive": true,
                "diacritic-sensitive": false
            },
            "geometry": {
              "type": "Point",
              "coordinates": [
                -106.5234375,
                72.18180355624855
              ]
            }
          },
          {
            "type": "Feature",
            "properties": {
                "a": "a",
                "b": "ä",
                "operator": ">",
                "case-sensitive": true,
                "diacritic-sensitive": true
            },
            "geometry": {
              "type": "Point",
              "coordinates": [
                -113.5546875,
                32.54681317351514
              ]
            }
          },
          {
            "type": "Feature",
            "properties": {
                "a": "a",
                "b": "ä",
                "operator": ">=",
                "case-sensitive": true,
                "diacritic-sensitive": true
            },
            "geometry": {
              "type": "Point",
              "coordinates": [
                -114.60937499999999,
                -43.83452678223682
              ]
            }
          },
          {
            "type": "Feature",
            "properties": {
                "a": "a",
                "b": "ä",
                "operator": "<",
                "case-sensitive": true,
                "diacritic-sensitive": false
            },
            "geometry": {
              "type": "Point",
              "coordinates": [
                92.8125,
                72.39570570653261
              ]
            }
          },
          {
            "type": "Feature",
            "properties": {
                "a": "a",
                "b": "ä",
                "operator": "<",
                "case-sensitive": false,
                "diacritic-sensitive": true
            },
            "geometry": {
              "type": "Point",
              "coordinates": [
                94.21875,
                34.30714385628804
              ]
            }
          },
          {
            "type": "Feature",
            "properties": {
                "a": "a",
                "b": "A",
                "operator": "<=",
                "case-sensitive": true,
                "diacritic-sensitive": true
            },
            "geometry": {
              "type": "Point",
              "coordinates": [
                97.03125,
                -44.087585028245165
              ]
            }
          }
        ]
      }
    }
  },
  "glyphs": "local://glyphs/{fontstack}/{range}.pbf",
  "layers": [
    {
      "id": "background",
      "type": "background",
      "paint": {
        "background-color": "white"
      }
    },
    {
      "id": "literal",
      "type": "symbol",
      "source": "mapbox",
      "layout": {
        "text-field": ["let",
            "a", ["to-string", ["get", "a"]],
            "b", ["to-string", ["get", "b"]],
            "op", ["get", "operator"],
            "collation", ["collator", {
                "case-sensitive": ["get", "case-sensitive"],
                "diacritic-sensitive": ["get", "diacritic-sensitive"],
                "locale": "en" }
            ],
            ["concat",
                ["var", "a"], " ",
                ["var", "op"], " ",
                ["var", "b"], "\n",
                "Case: ", ["to-string", ["get", "case-sensitive"]], "\n",
                "Diacritics: ", ["to-string", ["get", "diacritic-sensitive"]], "\n",
                ["to-string", ["case",
                    ["==", ["var", "op"], "=="],
                    ["==", ["var", "a"], ["var", "b"], ["var", "collation"]],
                    ["==", ["var", "op"], "!="],
                    ["!=", ["var", "a"], ["var", "b"], ["var", "collation"]],
                    ["==", ["var", "op"], "<"],
                    ["<", ["var", "a"], ["var", "b"], ["var", "collation"]],
                    ["==", ["var", "op"], "<="],
                    ["<=", ["var", "a"], ["var", "b"], ["var", "collation"]],
                    ["==", ["var", "op"], ">"],
                    [">", ["var", "a"], ["var", "b"], ["var", "collation"]],
                    ["==", ["var", "op"], ">="],
                    [">=", ["var", "a"], ["var", "b"], ["var", "collation"]],
                    false
                ]]
            ]
        ],
        "text-font": [
          "NotoCJK"
        ],
        "text-max-width": 7
      }
    }
  ]
}
